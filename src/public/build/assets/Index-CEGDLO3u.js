import{o as t,c as l,w as k,v as I,a as e,b as _,d as U,r as B,n as E,F as y,e as L,t as f,f as j,g as h,h as R,m as X,u as A,i as N,j as G,k as q,T as O,l as $,p as d,q as M,s as b,Z as D,x as K,O as C,y as Z}from"./app-BP3_VncP.js";import{_ as H}from"./AuthenticatedLayout-5dt-ZNCW.js";import{_ as J}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{f as z}from"./flasher.min-CYCKOLfF.js";import"./ApplicationLogo-BWoh0R1_.js";const Q={xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",fill:"currentColor",class:"text-vix-blue-300",viewBox:"0 0 16 16"},W=e("path",{d:"M10.067.87a2.89 2.89 0 0 0-4.134 0l-.622.638-.89-.011a2.89 2.89 0 0 0-2.924 2.924l.01.89-.636.622a2.89 2.89 0 0 0 0 4.134l.637.622-.011.89a2.89 2.89 0 0 0 2.924 2.924l.89-.01.622.636a2.89 2.89 0 0 0 4.134 0l.622-.637.89.011a2.89 2.89 0 0 0 2.924-2.924l-.01-.89.636-.622a2.89 2.89 0 0 0 0-4.134l-.637-.622.011-.89a2.89 2.89 0 0 0-2.924-2.924l-.89.01zm.287 5.984-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 1 1 .708-.708L7 8.793l2.646-2.647a.5.5 0 0 1 .708.708"},null,-1),Y=[W],ee={xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",fill:"currentColor",class:"",viewBox:"0 0 16 16"},te=e("path",{"fill-rule":"evenodd",d:"M10.354 6.146a.5.5 0 0 1 0 .708l-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 1 1 .708-.708L7 8.793l2.646-2.647a.5.5 0 0 1 .708 0"},null,-1),le=e("path",{d:"m10.273 2.513-.921-.944.715-.698.622.637.89-.011a2.89 2.89 0 0 1 2.924 2.924l-.01.89.636.622a2.89 2.89 0 0 1 0 4.134l-.637.622.011.89a2.89 2.89 0 0 1-2.924 2.924l-.89-.01-.622.636a2.89 2.89 0 0 1-4.134 0l-.622-.637-.89.011a2.89 2.89 0 0 1-2.924-2.924l.01-.89-.636-.622a2.89 2.89 0 0 1 0-4.134l.637-.622-.011-.89a2.89 2.89 0 0 1 2.924-2.924l.89.01.622-.636a2.89 2.89 0 0 1 4.134 0l-.715.698a1.89 1.89 0 0 0-2.704 0l-.92.944-1.32-.016a1.89 1.89 0 0 0-1.911 1.912l.016 1.318-.944.921a1.89 1.89 0 0 0 0 2.704l.944.92-.016 1.32a1.89 1.89 0 0 0 1.912 1.911l1.318-.016.921.944a1.89 1.89 0 0 0 2.704 0l.92-.944 1.32.016a1.89 1.89 0 0 0 1.911-1.912l-.016-1.318.944-.921a1.89 1.89 0 0 0 0-2.704l-.944-.92.016-1.32a1.89 1.89 0 0 0-1.912-1.911z"},null,-1),se=[te,le],oe={__name:"ButtonActive",props:{active:Boolean,edit:Boolean},setup(o){return(u,a)=>(t(),l("button",{class:"flex justify-center items-center",onClick:a[0]||(a[0]=c=>o.edit?o.active=!o.active:"")},[k((t(),l("svg",Q,Y,512)),[[I,o.active]]),k((t(),l("svg",ee,se,512)),[[I,!o.active]])]))}},ae={class:"border border-black w-6 h-7 rounded-md flex items-center justify-center"},ne={key:0},re={key:0,fill:"#000000",class:"w-[13px]",version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 330.002 330.002","xml:space":"preserve"},ie=e("g",{id:"SVGRepo_bgCarrier","stroke-width":"0"},null,-1),ce=e("g",{id:"SVGRepo_tracerCarrier","stroke-linecap":"round","stroke-linejoin":"round"},null,-1),de=e("g",{id:"SVGRepo_iconCarrier"},[e("path",{id:"XMLID_227_",d:"M233.25,306.001L127.5,165.005L233.25,24.001c4.971-6.628,3.627-16.03-3-21c-6.627-4.971-16.03-3.626-21,3 L96.75,156.005c-4,5.333-4,12.667,0,18l112.5,149.996c2.947,3.93,7.451,6.001,12.012,6.001c3.131,0,6.29-0.978,8.988-3.001 C236.878,322.03,238.221,312.628,233.25,306.001z"})],-1),ue=[ie,ce,de],pe={key:1,fill:"#000000",class:"w-[14px]",version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 330 330","xml:space":"preserve"},me=U('<g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"><g id="XMLID_106_"><path id="XMLID_107_" d="M51.213,165.004L190.607,25.607c5.857-5.858,5.857-15.355-0.001-21.213 c-5.857-5.858-15.355-5.858-21.213,0.001l-150,150.004C16.58,157.211,15,161.026,15,165.004c0,3.979,1.581,7.794,4.394,10.607 l150,149.996C172.322,328.536,176.161,330,180,330s7.678-1.464,10.607-4.394c5.857-5.858,5.857-15.355-0.001-21.213L51.213,165.004 z"></path> <path id="XMLID_108_" d="M171.213,165.004L310.607,25.607c5.858-5.858,5.858-15.355,0-21.213 c-5.857-5.858-15.355-5.858-21.213,0.001l-150,150.004c-2.813,2.813-4.393,6.628-4.393,10.606c0,3.979,1.581,7.794,4.394,10.607 l150,149.996C292.322,328.536,296.161,330,300,330c3.839,0,7.678-1.464,10.607-4.394c5.858-5.858,5.858-15.355,0-21.213 L171.213,165.004z"></path></g></g>',3),_e=[me],fe={key:1},he={key:0,fill:"#000000",class:"w-[13px]",version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 330 330","xml:space":"preserve"},ve=e("g",{id:"SVGRepo_bgCarrier","stroke-width":"0"},null,-1),ge=e("g",{id:"SVGRepo_tracerCarrier","stroke-linecap":"round","stroke-linejoin":"round"},null,-1),we=e("g",{id:"SVGRepo_iconCarrier"},[e("path",{id:"XMLID_222_",d:"M250.606,154.389l-150-149.996c-5.857-5.858-15.355-5.858-21.213,0.001 c-5.857,5.858-5.857,15.355,0.001,21.213l139.393,139.39L79.393,304.394c-5.857,5.858-5.857,15.355,0.001,21.213 C82.322,328.536,86.161,330,90,330s7.678-1.464,10.607-4.394l149.999-150.004c2.814-2.813,4.394-6.628,4.394-10.606 C255,161.018,253.42,157.202,250.606,154.389z"})],-1),xe=[ve,ge,we],be={key:1,fill:"#000000",class:"w-[14px]",version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 330 330","xml:space":"preserve"},ye=U('<g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"><g id="XMLID_103_"><path id="XMLID_104_" d="M310.607,154.391l-150-149.997c-5.857-5.858-15.355-5.858-21.213,0.001 c-5.857,5.858-5.857,15.355,0,21.213l139.393,139.39L139.394,304.394c-5.857,5.858-5.857,15.355,0,21.213 c2.929,2.929,6.768,4.393,10.606,4.393s7.678-1.464,10.607-4.394l150-150.003c2.813-2.813,4.393-6.628,4.393-10.606 C315,161.019,313.42,157.204,310.607,154.391z"></path> <path id="XMLID_105_" d="M195.001,164.996c0-3.979-1.581-7.794-4.394-10.607L40.606,4.393c-5.858-5.858-15.355-5.858-21.213,0.001 c-5.857,5.858-5.857,15.355,0.001,21.213l139.394,139.39L19.393,304.394c-5.857,5.858-5.857,15.355,0.001,21.213 C22.322,328.536,26.161,330,30,330s7.678-1.464,10.607-4.394l150.001-150.004C193.42,172.79,195.001,168.974,195.001,164.996z"></path></g></g>',3),ke=[ye],F={__name:"ButtonPage",props:{typeBtn:Number,dct:Number},setup(o){return(u,a)=>(t(),l("button",ae,[o.dct===1?(t(),l("div",ne,[o.typeBtn===1?(t(),l("svg",re,ue)):_("",!0),o.typeBtn===2?(t(),l("svg",pe,_e)):_("",!0)])):_("",!0),o.dct===2?(t(),l("div",fe,[o.typeBtn===1?(t(),l("svg",he,xe)):_("",!0),o.typeBtn===2?(t(),l("svg",be,ke)):_("",!0)])):_("",!0)]))}},$e={class:"w-full h-full relative"},Ce={class:"absolute -top-3 -left-1 telaBlock bg-black/60 z-40 cursor-not-allowed rounded"},Be={class:"h-[50px]"},Le={class:"cal-h overflow-y-auto"},Ve={id:"users",class:"table table-striped",style:{width:"100%"}},Me={class:"h-[40px] w-full flex justify-center items-center gap-2 mt-1"},je=["onClick"],Se={__name:"TableComponent",props:{paginated:{type:Object,default:[]},titleName:{type:Array,default:[]},colorTitle:{type:String,default:"transparent"},blockTable:{type:Boolean,default:!1}},emits:["filterPage"],setup(o,{emit:u}){const a=o,c=u,n=g=>{c("filterPage",g)};return(g,m)=>(t(),l("div",$e,[k(e("div",Ce,null,512),[[I,a.blockTable]]),e("div",Be,[e("div",{onChange:m[0]||(m[0]=r=>n(`${a.paginated.path}?page=1`)),class:"flex justify-around"},[B(g.$slots,"headerTable")],32)]),e("div",Le,[e("table",Ve,[e("thead",null,[e("tr",{style:E(`background-color: ${o.colorTitle};`)},[(t(!0),l(y,null,L(o.titleName,r=>(t(),l("th",{key:r},f(r),1))),128))],4)]),e("tbody",null,[B(g.$slots,"tableBody")])])]),e("div",Me,[a.paginated.first_page_url?(t(),j(F,{key:0,onClick:m[1]||(m[1]=h(r=>n(a.paginated.first_page_url),["prevent"])),dct:1,typeBtn:2})):_("",!0),(t(!0),l(y,null,L(a.paginated.links,(r,V)=>(t(),l("div",null,[r.label=="Anterior"?(t(),j(F,{onClick:h(S=>n(r.url),["prevent"]),key:V+"ant",dct:1,typeBtn:1},null,8,["onClick"])):r.label=="Proxima"?(t(),j(F,{onClick:h(S=>n(r.url),["prevent"]),key:V+"dep",dct:2,typeBtn:1},null,8,["onClick"])):(t(),l("button",{class:R([a.paginated.current_page==r.label?"text-vix-green-200":"","border border-black w-6 h-7 rounded-md"]),onClick:h(S=>n(r.url),["prevent"]),key:V},f(r.label),11,je))]))),256)),a.paginated.last_page_url?(t(),j(F,{key:1,onClick:m[2]||(m[2]=h(r=>n(a.paginated.last_page_url),["prevent"])),dct:2,typeBtn:2})):_("",!0)])]))}},Fe={},Ie={class:"w-full sm:h-[80vh] flex flex-col shadow-md shadow-[#55555580] border rounded-md p-2 gap-1"},Re={class:"w-full h-14 flex items-center gap-1"},Ne={class:"flex flex-col sm:flex-row h-full max-h-[60vh] w-full gap-1"},ze={class:"sm:w-1/3 h-full border rounded-md shadow-sm shadow-[#252525cb] p-2"},Ue={class:"sm:w-2/3 h-full max-h-[320px] sm:max-h-full border rounded-md shadow-sm shadow-[#252525cb] px-2 py-4"},Ge={class:"w-full h-14 flex justify-end items-center p-1 gap-2"};function Pe(o,u){return t(),l("div",Ie,[e("div",Re,[B(o.$slots,"header")]),e("div",Ne,[e("div",ze,[B(o.$slots,"tools")]),e("div",Ue,[B(o.$slots,"items")])]),e("div",Ge,[B(o.$slots,"footer")])])}const Te=J(Fe,[["render",Pe]]),Ee={class:"flex rounded-md h-10 relative"},Xe={class:"div-float"},Ae={class:"text-float"},qe=e("span",{class:"span-float"},null,-1),Oe={__name:"TextInput",props:X({name:String},{modelValue:{type:String,required:!1},modelModifiers:{}}),emits:["update:modelValue"],setup(o,{expose:u}){const a=o,c=A(o,"modelValue"),n=N(null);return u({focus:()=>n.value.focus()}),(g,m)=>(t(),l("label",Ee,[e("div",Xe,[e("p",Ae,f(a.name),1)]),qe,k(e("input",{type:"text","onUpdate:modelValue":m[0]||(m[0]=r=>c.value=r),ref_key:"input",ref:n,class:"rounded-md h-full input-float"},null,512),[[G,c.value]])]))}},De={class:"py-6"},Ke={class:"max-w-7xl mx-auto"},Ze={key:0,class:"flex flex-col"},He=e("div",{class:"mt-4"},[e("div",{class:"w-11/12 mx-auto flex flex-col"},[e("div",{class:"mb-2 flex gap-2 justify-center items-center"},[e("label",{for:"InputForName",class:"form-label"},"Nome"),e("input",{type:"text",name:"name",class:"w-full rounded-md",id:"InputForName"})]),e("div",{class:"mb-2 flex gap-2 justify-center items-center"},[e("label",{for:"InputForKey",class:"form-label"},"Matrícula"),e("input",{type:"text",name:"key",class:"w-full rounded-md",id:"InputForKey"})]),e("div",{class:"mb-2 flex gap-2 justify-center items-center"},[e("label",{for:"InputForLevel",class:"rounded-md"},"Nível de Acesso"),e("select",{name:"level",class:"w-full rounded-md",id:"InputForLevel"},[e("option",{value:"1"},"Deposito"),e("option",{value:"0"},"Administrador")])]),e("div",{class:"mb-2 flex gap-2 justify-center items-center"},[e("label",{for:"InputForEmail",class:"form-label"},"Email"),e("input",{type:"email",name:"email",class:"w-full rounded-md",id:"InputForEmail"})]),e("button",{type:"submit",class:"px-2 py-2 border rounded-md bg-zinc-600 text-white"},"Registrar")])],-1),Je=[He],Qe={key:1,class:"flex flex-col p-2"},We={class:"w-full mt-2 flex gap-2 justify-center flex-wrap max-h-48 overflow-y-auto py-2"},Ye=["onClick"],et=e("button",{class:"px-2 py-2 border rounded-md bg-green-500 text-white mt-2"}," Resetar senha ",-1),tt=[et],lt={class:"flex flex-col justify-center items-center"},st={class:"flex gap-2"},ot={class:"flex items-center justify-center gap-1"},at=["value"],nt={class:"flex gap-2 justify-center items-center"},rt=["onClick"],it={class:"flex justify-center items-center gap-1"},ct=["onSubmit"],dt={class:"flex justify-center items-center"},ut=["onClick"],pt=e("div",{class:"text-[12px] bg-yellow-100 rounded-md m-1 p-1 text-orange-900"}," Para dar um cargo selecione um usario e depois clique no nome do cargo á esquerda. ",-1),xt={__name:"Index",props:{users_paginated:Object,can:Object,roles:Array,"active-actions":Number,"password-actions":Number,"role-actions":Number,flash:{type:Object,default:{}}},setup(o){let u=N("role"),a={filter_matricula:"",filter_cargos:[],per_page:0},c=N();window.flasher=z;let n=o;q(()=>{z.render(n.flash.message)});const g=p=>c.value=p,m=(p,i)=>{i?C.delete(route("admin.remove.active",p),{onFinish:s=>{console.log(s)}}):C.post(route("admin.set.active",p),{})},r=p=>{p&&c.value?C.post(route("admin.role.set",{user:c.value,role:p}),{onFinish:i=>{console.log(i)}}):console.log("não caiu"),c.value=null},V=p=>{let i;n.roles.forEach(s=>{s.name===p&&(i=s.id)}),c.value&&i?C.delete(route("admin.role.remove",{user:c.value,role:i}),{onFinish:s=>{console.log(s)}}):console.log("não caiu")},S=()=>{c.value?C.delete(route("admin.remove.password",c.value)):console.log("error"),c.value=null};(()=>{location.search.slice(1).split("&").forEach(s=>{let v=s.split("=");v[0]=="filter_cargos[]"?a.filter_cargos.push(v[1]):a[v[0]]=v[1]})})();const w=O({filter_matricula:a.filter_matricula,filter_cargos:[...a.filter_cargos],per_page:a.per_page}),P=p=>{C.get(p,w)};return(p,i)=>(t(),l(y,null,[$(f(console.log(d(n)))+" ",1),M(d(D),{title:"Admin"}),M(H,null,{default:b(()=>[e("div",De,[e("div",Ke,[M(Te,null,{header:b(()=>[_("",!0),e("button",{class:R([d(u)==="role"?"bg-vix-green-200":"bg-zinc-600","px-2 py-2 border rounded-md text-white"]),onClick:i[1]||(i[1]=s=>K(u)?u.value="role":u="role")}," Cargos ",2)]),tools:b(()=>[d(u)==="new user"&!1?(t(),l("form",Ze,Je)):_("",!0),d(u)==="role"?(t(),l("div",Qe,[e("div",We,[(t(!0),l(y,null,L(d(n).roles,(s,v)=>(t(),l("button",{onClick:h(x=>r(s.id),["prevent"]),class:"min-w-28 h-8 border rounded-md shadow-md shadow-[#5c5c5c9d]"},f(s.name),9,Ye))),256))]),e("form",{onSubmit:h(S,["prevent"])},tt,32)])):_("",!0)]),items:b(()=>[M(Se,{paginated:d(n).users_paginated,titleName:["Matricula","Email","Cargo"],onFilterPage:P},{headerTable:b(()=>[M(Oe,{name:"Matricula",modelValue:d(w).filter_matricula,"onUpdate:modelValue":i[2]||(i[2]=s=>d(w).filter_matricula=s)},null,8,["modelValue"]),e("div",lt,[$("Cargos "),e("div",st,[(t(!0),l(y,null,L(d(n).roles,(s,v)=>(t(),l("label",ot,[k(e("input",{class:"rounded-full",type:"checkbox",name:"",id:"",value:s.name,"onUpdate:modelValue":i[3]||(i[3]=x=>d(w).filter_cargos=x)},null,8,at),[[Z,d(w).filter_cargos]]),$(f(s.name),1)]))),256))])]),e("div",nt,[k(e("input",{type:"number",class:"w-24 rounded-md",min:"0","onUpdate:modelValue":i[4]||(i[4]=s=>d(w).per_page=s)},null,512),[[G,d(w).per_page]]),$("por Página")])]),tableBody:b(()=>[(t(!0),l(y,null,L(d(n).users_paginated.data,(s,v)=>(t(),l("tr",{onClick:x=>g(s.id),class:R(d(c)==s.id?"!bg-vix-green-200/60":"")},[e("th",it,[$(f(s.name)+" ",1),e("form",{onSubmit:h(x=>m(s.id,s.active),["prevent"])},[(t(),j(oe,{active:s.active,edit:o.can.active_user,key:v},null,8,["active","edit"]))],40,ct)]),e("th",null,f(s.email),1),e("th",null,[(t(!0),l(y,null,L(s.roles,(x,T)=>(t(),l("div",dt,[(t(),l("div",{key:T},[$(f(x)+" ",1),k(e("button",{onClick:h(_t=>V(x),["prevent"])}," x ",8,ut),[[I,!0]])]))]))),256))])],10,rt))),256))]),_:1},8,["paginated"])]),footer:b(()=>[pt]),_:1})])])]),_:1})],64))}};export{xt as default};
