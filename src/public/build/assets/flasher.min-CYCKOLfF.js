import{B as v,C as m}from"./app-BP3_VncP.js";var h={exports:{}};(function(y,b){(function(c,l){y.exports=l()})(v,function(){function c(r,e,t){if(t||arguments.length===2)for(var n,o=0,i=e.length;o<i;o++)!n&&o in e||(n||(n=Array.prototype.slice.call(e,0,o)),n[o]=e[o]);return r.concat(n||Array.prototype.slice.call(e))}var l=function(){function r(e){this.options={timeout:5e3,fps:30,position:"top-right",direction:"top",rtl:!1,style:{},darkMode:"media"},this.viewFactory=e}return r.prototype.success=function(e,t,n){this.flash("success",e,t,n)},r.prototype.info=function(e,t,n){this.flash("info",e,t,n)},r.prototype.warning=function(e,t,n){this.flash("warning",e,t,n)},r.prototype.error=function(e,t,n){this.flash("error",e,t,n)},r.prototype.flash=function(e,t,n,o){var i=this.createNotification(e,t,n,o);this.renderOptions({}),this.render({notification:i})},r.prototype.createNotification=function(e,t,n,o){if(typeof e=="object"?(e=(o=e).type,t=o.message,n=o.title):typeof t=="object"?(t=(o=t).message,n=o.title):typeof n=="object"&&(n=(o=n).title),t===void 0)throw new Error("message option is required");return{type:e||"info",message:t,title:n,options:o}},r.prototype.render=function(e){var t=this,n=e.notification.options||{},o=Array.isArray(n)?this.options:Object.assign({},this.options,n),i=function(){var s=t.createContainer(o);t.addToContainer(s,e,o)};document.readyState==="loading"?document.addEventListener("DOMContentLoaded",i):i()},r.prototype.renderOptions=function(e){this.options=Object.assign({},this.options,e),this.applyDarkMode()},r.prototype.createContainer=function(e){var t='.fl-main-container[data-position="'.concat(e.position,'"]'),n=document.querySelector(t);return n?(n.dataset.turboCache="false",n.classList.add("fl-no-cache"),n):((n=document.createElement("div")).classList.add("fl-main-container"),n.dataset.position=e.position,n.dataset.turboCache="false",n.classList.add("fl-no-cache"),Object.keys(e.style).forEach(function(o){n==null||n.style.setProperty(o,e.style[o])}),document.body.append(n),n)},r.prototype.addToContainer=function(e,t,n){var o=this.stringToHTML(t.template||this.viewFactory.render(t));o.classList.add("fl-container"),this.appendNotification(e,o,n),this.renderProgressBar(o,n),this.handleClick(o)},r.prototype.appendNotification=function(e,t,n){n.direction==="bottom"?e.append(t):e.prepend(t),n.rtl&&t.classList.add("fl-rtl"),setTimeout(function(){t.classList.add("fl-show")},100)},r.prototype.removeNotification=function(e){var t=e.parentElement;e.classList.remove("fl-show"),e.addEventListener("transitionend",function(){e.remove(),t.hasChildNodes()||t.remove()})},r.prototype.handleClick=function(e){var t=this;e.addEventListener("click",function(){return t.removeNotification(e)})},r.prototype.renderProgressBar=function(e,t){var n=this;if(t.timeout&&!(t.timeout<=0)){var o=document.createElement("span");o.classList.add("fl-progress");var i=e.querySelector(".fl-progress-bar");i&&i.append(o);var s=1e3/t.fps,a=0,f=function(){var u=100*(1-s*((a+=1)/t.timeout));o.style.width="".concat(u,"%"),u<=0&&(clearInterval(p),n.removeNotification(e))},p=window.setInterval(f,s);e.addEventListener("mouseout",function(){return p=window.setInterval(f,s)}),e.addEventListener("mouseover",function(){return clearInterval(p)})}},r.prototype.applyDarkMode=function(){if(!document.body.classList.contains("fl-dark-mode")&&!document.querySelector("style.flasher-js")){var e=[].concat(this.options.darkMode),t=e[0],n=e[1],o=n===void 0?".dark":n,i=".fl-main-container .fl-container.fl-flasher {background-color: rgb(15, 23, 42);color: rgb(255, 255, 255);}";i=t==="media"?"@media (prefers-color-scheme: dark) {".concat(i,"}"):"".concat(o," ").concat(i);var s=document.createElement("style");s.type="text/css",s.classList.add("flasher-js"),s.appendChild(document.createTextNode(i)),document.head.appendChild(s),document.body.classList.add("fl-dark-mode")}},r.prototype.stringToHTML=function(e){var t=function(){if(!DOMParser)return!1;var o=new DOMParser;try{o.parseFromString("x","text/html")}catch{return!1}return!0}();if(t)return new DOMParser().parseFromString(e,"text/html").body.firstChild;var n=document.createElement("div");return n.innerHTML=e,n.firstElementChild},r}(),d=new(function(){function r(){this.defaultHandler="theme.flasher",this.factories=new Map,this.themes=new Map}return r.prototype.success=function(e,t,n){this.flash("success",e,t,n)},r.prototype.info=function(e,t,n){this.flash("info",e,t,n)},r.prototype.warning=function(e,t,n){this.flash("warning",e,t,n)},r.prototype.error=function(e,t,n){this.flash("error",e,t,n)},r.prototype.flash=function(e,t,n,o){var i=this.createNotification(e,t,n,o),s=this.create(this.defaultHandler);s.renderOptions({}),s.render({notification:i})},r.prototype.createNotification=function(e,t,n,o){if(typeof e=="object"?(e=(o=e).type,t=o.message,n=o.title):typeof t=="object"?(t=(o=t).message,n=o.title):typeof n=="object"&&(n=(o=n).title),t===void 0)throw new Error("message option is required");return{type:e||"info",message:t,title:n,options:o}},r.prototype.create=function(e){e=this.resolveHandler(e),this.resolveThemeHandler(e);var t=this.factories.get(e);if(!t)throw new Error('Unable to resolve "'.concat(e,'" notification factory, did you forget to register it?'));return t},r.prototype.renderOptions=function(e){var t=this;Object.entries(e).forEach(function(n){var o=n[0],i=n[1];t.create(o).renderOptions(i)})},r.prototype.render=function(e){var t=this;e=this.resolveResponse(e),this.addStyles(e.styles,function(){t.addScripts(e.scripts,function(){t.renderOptions(e.options),t.renderEnvelopes(e.envelopes,e.context)})})},r.prototype.addFactory=function(e,t){this.factories.set(e,t)},r.prototype.addTheme=function(e,t){this.themes.set(e,t)},r.prototype.using=function(e){return this.defaultHandler=e,this},r.prototype.addStyles=function(e,t){var n=this;if(e.length!==0)if(document.querySelector('link[href="'.concat(e[0],'"]'))===null){var o=document.createElement("link");o.setAttribute("href",e[0]),o.setAttribute("type","text/css"),o.setAttribute("rel","stylesheet"),o.onload=function(){return n.addStyles(e.slice(1),t)},document.head.appendChild(o)}else this.addStyles(e.slice(1),t);else typeof t=="function"&&t()},r.prototype.addScripts=function(e,t){var n=this;if(e.length!==0)if(document.querySelector('script[src="'.concat(e[0],'"]'))===null){var o=document.createElement("script");o.setAttribute("src",e[0]),o.setAttribute("type","text/javascript"),o.onload=function(){return n.addScripts(e.slice(1),t)},document.head.appendChild(o)}else this.addScripts(e.slice(1),t);else typeof t=="function"&&t()},r.prototype.renderEnvelopes=function(e,t){var n=this,o=new Map;e.forEach(function(i){i.context=Object.assign({},i.context||{},t),i.handler=n.resolveHandler(i.handler);var s=n.create(i.handler);n.isQueueable(s)?(o.get(i.handler)||s.resetQueue(),s.addEnvelope(i),o.set(i.handler,s)):s.render(i)}),o.forEach(function(i){return i.renderQueue()})},r.prototype.isQueueable=function(e){return typeof e.addEnvelope=="function"&&typeof e.renderQueue=="function"},r.prototype.resolveResponse=function(e){var t=this;return e.envelopes=e.envelopes||[],e.options=e.options||{},e.scripts=e.scripts||[],e.styles=e.styles||[],e.context=e.context||{},Object.entries(e.options).forEach(function(n){var o=n[0],i=n[1];e.options[o]=t.parseOptions(i)}),e.envelopes.forEach(function(n){n.handler=t.resolveHandler(n.handler),n.notification.options=t.parseOptions(n.notification.options||{}),t.pushStyles(e,n.handler)}),e},r.prototype.parseOptions=function(e){var t=this;return Object.entries(e).forEach(function(n){var o=n[0],i=n[1];e[o]=t.parseFunction(i)}),e},r.prototype.parseFunction=function(e){var t,n;if(typeof e!="string")return e;var o=e.match(/^function(?:.+)?(?:\s+)?\((.+)?\)(?:\s+|\n+)?{(?:\s+|\n+)?((?:.|\n)+)}$/m);if(!o)return e;var i=(n=(t=o[1])===null||t===void 0?void 0:t.split(",").map(function(a){return a.trim()}))!==null&&n!==void 0?n:[],s=o[2];return new(Function.bind.apply(Function,c(c([void 0],i,!1),[s],!1)))},r.prototype.pushStyles=function(e,t){var n;t=t.replace("theme.","");var o=((n=this.themes.get(t))===null||n===void 0?void 0:n.styles)||[];e.styles=e.styles.concat(o).filter(function(i,s,a){return a.indexOf(i)===s})},r.prototype.resolveHandler=function(e){return e=e||this.defaultHandler,["flasher","theme","template"].includes(e)&&(e="theme.flasher"),e=e.replace("template.","theme.")},r.prototype.resolveThemeHandler=function(e){if(!this.factories.get(e)&&e.indexOf("theme.")===0){var t=this.themes.get(e.replace("theme.",""));t&&this.addFactory(e,new l(t))}},r}());return d.addTheme("flasher",{render:function(r){var e,t=r.notification;return'<div class="fl-flasher fl-'+t.type+'"><div class="fl-content"><div class="fl-icon"></div><div><strong class="fl-title">'+((e=t.title)!==null&&e!==void 0?e:t.type)+'</strong><span class="fl-message">'+t.message+'</span></div></div><span class="fl-progress-bar"></span></div>'}}),d})})(h);var g=h.exports;const w=m(g);export{w as f};
